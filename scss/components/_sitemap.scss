//	Sitemap formatting
.layout ul.sitemap {
	border-bottom: 1px solid $tableBorder;
	list-style-type: none;
	margin-left: 0;

	.no-js & .collapse {
		height: auto;
	}
	#IE9 & .open .collapse{
		height:auto;
		.page-toggle{
			display:none;
		}
	}
	.page-toggle {
		text-indent: 0;
		left: 0px;
		top: 0px;
		z-index: 5;
		position: absolute;
		display: inline-block;
		width: 40px;
		height: 40px;

		.button {
			padding-left: 15px;
			display: block;
			height: 40px; /* for early i.e. */
			&:hover, &:focus {
				text-decoration: none;
			}
			.linkText {
				height: 0;
				overflow: hidden;
				padding-top: 20px;
				display: block;
				position: absolute;
				width: 20px;
			}
			.toggleIco {
				font-size: 12px;
			}
			&.open .toggleIco {
				@extend .icon-minus;
			}
			&.loading {
				.toggleIco {
					background: url(../images/ajax-loader.gif) center bottom no-repeat;
					display: block;
					height: 27px;
					width: 15px;
					&:before {
						display: none;
					}
				}
			}
		}
	}
	
	li {
		background: $tableBackgroundAccent;
		border-top: 1px solid red;
		z-index: 0;
		position: relative;
		line-height: 40px;
		margin-bottom: 0;
		
		#IE6 & {
			padding: 8px 0;
			.page-toggle{
				display:none;
			}
			.collapse{
				height:auto;
			}
		}		
		a.sitemap-link {
			padding-left: 30px;
			z-index: 1;
			display: block;
			height: 100%;
			@include box-sizing(border-box);
			#IE6 & {
				padding: 4px 0;
			}
			img {
				border:none;
				margin-top: -3px;
			}
			.sitetree-icon {
				margin: 0 10px 0 15px;
			}
			&:hover {
				text-decoration: none;
				background-color: $tableBackgroundHover;
			}
		}
		ul{
			margin: 0;
			padding: 0;
			list-style:none;
			height:auto;
			li {
				text-indent:15px;
				.page-toggle {
					padding-left: 20px;
				}
				li {
				 	background:none;
					border:none;
					text-indent:25px;
					&.first,&.last{
						border:none;
					}
					.page-toggle {
						padding-left: 30px;
					}
				 	li {
						text-indent: 45px;
						.page-toggle {
							padding-left: 40px;
						}
					 	li {
					 		text-indent: 60px;
					 		.page-toggle {
								padding-left: 50px;
							}
						 	li {
						 		text-indent: 75px;
						 		.page-toggle {
									padding-left: 60px;
								}
							 	li {
							 		text-indent: 90px;
							 		.page-toggle {
										padding-left: 70px;
									}
								 	li {
								 		text-indent: 105px;
								 		.page-toggle {
											padding-left: 80px;
										}
								 		li {
								 			text-indent: 120px;
								 			.page-toggle {
												padding-left: 90px;
											}
								 			background-color: rgba($gray,0.2);
								 			#IE9 &{
								 				background:none;
								 				&.first,&.last{
								 					border:none;
								 				}
								 			}
								 			&.first{
												border-top:$gray;
												border-top:2px solid rgba($grayLight,0.5);
											}
											&.last{
											 	border-bottom:2px solid rgba($grayLight,0.5);
											}
											.in{
								 				li{
								 					border:none;
								 				}
								 			}	
											li{
												#IE9 &{
													padding-left:10px;
												}	
												background: none;
												border:none;
												&.last,&.first{
													border:none;
												}
											}
								 		}
				 					}
								}
							}
						}
					}
				}
			}
		}
		div.collapse {
			display: none;
		}
		div.collapsed {
			display: block;
		}
		div.collapse a,
		div.collapse .page-toggle a.button {
			display: none;
		}
	}
}